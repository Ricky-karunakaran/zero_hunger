@page
@using System.Collections
@model ZeroHunger.Pages.Deliveries.IndexModel

@if (@HttpContext.Request.Cookies["role"] != null && @HttpContext.Request.Cookies["role"].Equals("4"))
{
    /*@if(null != TempData["alertMessage"])
    {
        <script type="text/javascript">
        alert('@TempData["alertMessage"]');
        </script>
    }*/
    ArrayList _message = ViewData["Message"] as ArrayList;
    <script type="text/javascript">
    foreach (string msg in _message)
    {
        alert(msg);
    }
    </script>

/*if(ViewData["Message1"]!=null)
{
    <script type="text/javascript">
        window.onload = function () {
            var message =  '@ViewData["'Message1'"]';
            alert(message);
            var i = 2;
            message = '@ViewData["'Message'"+i.ToString()]';
            while(msg != null) {
                alert(message);
                i++;
                message = '@ViewData["'Message'"+i]';
                if (msg == null) {
                    break;
                }
            } 
        };
    </script>
}*/
<div class="container p=3">
    <div class="row pt-4">
        <div class="col-8 text-left">
            <h2 style="color:black;">Delivery Request</h2>
        </div>
        <div class="col-4 text-right">
            <a asp-page="Create" class="btn btn-info">
                <i class="bi bi-pencil-square"></i> &nbsp; Create New Delivery Request
            </a>
        </div>
    </div>  
</div>
<br/><br/>

<table id="delivery_load" class="table table-bordered table-striped" style="text-align:center">
    <thead>
        <tr>
            <th>
                Delivery ID
            </th>
            <th>
                Volunteer Name
            </th>
            <th>
                Delivery Time
            </th>
            <th>
                Delivery Status
            </th>
                <th>
                Receiver Name
            </th>
            <th>
                Receiver Phone
            </th>
            <th>
                Receiver Address
            </th>
            <th>
                Delivery Item
            </th>
            <th></th>
        </tr>
    </thead>
</table>         

@section Scripts{
    <script src="~/js/DeliveryList.js"></script>
    <script>
         window.onload=function(){
              ArrayList _message = ViewData["Message"] as ArrayList;
    foreach (string msg in _message)
    {
        alert(msg);
    }
         }
    </script>
    @{
    <partial name="_ValidationScriptsPartial"></partial>
    }
}
}else{
     <script>
     alert("Sorry, you are not eligible to enter this page.");
     location.href = '/Index';
     </script>
}

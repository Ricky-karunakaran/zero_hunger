@page
@model ZeroHunger.Pages.CookFood.ReservationModel
@{
}

<div id="ReservationPageContainer">
    <div style="display:flex;flex-direction:column;">
        <div id="Reservation" class="ReservationTitle" onclick="Change(document.getElementById('History'),this)">Reservation</div>
        <div id="History" onclick="Change(document.getElementById('Reservation'),this)">History</div>
    </div>
        
</div>
<div id="ReservationContainer">
    @if (Model.CRP.Count() == 0)
    {
    <p>No Reservation</p>
    }
    else
    {
    @foreach (var item in Model.CRP)
        {
<table style="margin:10px 0px 10px 10px">
    <form method="post">
    <tr>
        <th>Reservation Date</th>
        <th>Shop</th>
        <th>Food</th>
        <th ><button class="btn btn-success" style="width:200px;text-align:left;" asp-route-id="@item.Id" asp-page-handler="Complete"><i class="bi bi-check-square" style="margin:10px 10px 10px 10px;font:red;"></i>Complete</button></th>


    </tr>

    <tr>
        <td>@item.date</td>
        <td>@item.reservationRefCook.ShopName</td>
        <td>@item.reservationRefCook.CookName</td>

        <th><button class="btn btn-danger" style="width:200px;text-align:left;" asp-route-id="@item.Id" asp-page-handler="Cancel"><i class="bi bi-x" style="margin:10px 10px 10px 10px;font:red;"></i>Cancel</button></th>

    </tr>

    </form>

    <div id="itemCount" style="display:none;">1</div>
    <input hidden name="itemLat" value="@item.reservationRefCook.CookLatitude" />
    <input hidden name="itemLon" value="@item.reservationRefCook.CookLongtitude" />

</table>
    <div id="map" style="width:100%;height:500px;">
        Map
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2fBiU-KdwozQVPPLeB_IW0y26-zwthaQ&maps_ids=ca3e1b773e1fd477&callback=initMapr"></script>
    </div>
        }
    }

</div>
<div id="HistoryContainer">
    <div class="col-12 border p-3">
        <table id="DT_load" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Shop</th>
                    <th>Food</th>
                    <th>Status</th>
                </tr>
            </thead>

            @foreach (var item in Model.CR)
            {
                <tr>
                    <td>@item.date</td>
                    <td>@item.reservationRefCook.ShopName</td>
                    <td>@item.reservationRefCook.CookName</td>
                    <td>@item.status</td>
                </tr>

            }
        </table>
    </div>
</div>


@section Scripts{
    <script src="~/js/JavaScript.js"></script>
}

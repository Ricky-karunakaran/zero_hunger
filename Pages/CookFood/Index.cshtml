@page
@model ZeroHunger.Pages.CookFood.IndexModel
        <script>window.onload = navigator.geolocation.getCurrentPosition(success, error, options);</script>
        <h1 style="text-align:center;">Cook Food Donation</h1>

        
        <div class='promptContainer' id="promptContainer">
            <div style="display:flex;justify-content:center;background-color:transparent;">
                <div class='promptTitle'>Donation   <i class="bi bi-x-square-fill" onClick="closeRePrompt();" id="closeWindow"></i></div>
                
            </div>
            <form method="post">
                <div style="display: flex; justify-content: center; background-color: transparent;">

                    <table>
                        <tr>
                            <th class='tableLeft'>Shop Name</th>
                            <td id='pFoodShopName' class='tableLeft'></td>
                        </tr>
                        <tr>
                            <th class='tableLeft'>Food Name</th>
                            <td id='pFoodName' class='tableLeft'></td>
                        </tr>
                        <tr>
                            <th class='tableLeft'>Quantity</th>
                            <td id="pFoodQuantity" class='tableLeft'></td>
                        </tr>
                        <tr>
                            <th class='tableLeft'>Distance</th>
                            <td id="pFoodDistance" class='tableLeft'></td>
                        </tr>

                    </table>
                    <input id="pFoodId" type="hidden" asp-for="id" value="0" />

                </div>
                <div style="display: flex; justify-content: center; background-color: transparent;">
                    <input type='submit' value='Reserve' class="btn" id='reservedBut'>
                </div>
            </form>
        </div>

        <div id="CookFoodContainer">
            <div id="map" style="width:800px;height:500px;">
                <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2fBiU-KdwozQVPPLeB_IW0y26-zwthaQ&maps_ids=ca3e1b773e1fd477&callback=initMaps"></script>
                <!-- https://maps.googleapis.com/maps/api/directions/json?origin=Disneyland&destination=Universal+Studios+Hollywood&key=AIzaSyAz32WUfTmcByLCFFmeKQ20wktlZkPyZhI-->
            </div>
            <div id="list">
                <div><h3 style="text-align:center">Donation List</h3></div>
                
                <div id="pageButtonContainer">
                    <button onclick="previousPage()" id="pPage" class="btn btn-info"><</button>
                    <button onclick="nextPage()" id="nPage" class="btn btn-info">></button>
                </div>
                @if (Model.CFD.Count() == 0)
                {
                    <p>No Cooked Food In List</p>
                }
                else
                {
                    
                    @foreach (var item in Model.CFD)
                    {


                        <div id="itemContainer" name="itemContainer" onClick="displayItemBox('@item.ShopName', '@item.CookName', ' @(item.RemainQuantity-item.Reservation)', '@item.CookID')">
                            <div id="itemInfo">
                                <div>
                                    <div id="itemName" name="itemName">
                                        @Html.DisplayFor(m => item.CookName)
                                    </div>
                                    <div id="itemQuantity">
                                        @(item.RemainQuantity-item.Reservation)/@Html.DisplayFor(m => item.RemainQuantity)
                                    </div>
                                </div>
                                <p hidden id="itemCount">@Model.count</p>
                                <p hidden name="itemLat">@Html.DisplayFor(m => item.CookLatitude)</p>
                                <p hidden name="itemLon">@Html.DisplayFor(m => item.CookLongtitude)</p>


                                <div name="itemDistance" id="itemDistance.@item.CookID">

                                </div>
                            </div>

                        </div>


                    }


                }

            </div>
            
        </div>
        
 
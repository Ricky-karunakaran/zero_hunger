@page
@model ZeroHunger.Pages.CookFoodPage.CookFoodViewModel
@{
@if (@HttpContext.Request.Cookies["role"] != null && @HttpContext.Request.Cookies["role"].Equals("3"))
    {
                //ViewData["Title"] = "Cook Food Donation";

        <br />
        <div class="container row p-0 m-0">
            <div class="col-7">
                <h2>Cooked Food Donation</h2>
            </div>
            <div class="col-col-5 text-right">
                <a asp-page="AddCookFood" class="btn btn-info "><i class="bi bi-pencil-square"></i> Donate New Food</a>
                <button align="center" class="btn btn-danger" onclick="javascript:generatePDF();">Generate PDF</button>
            </div>
            <div class="col-18 border p-3" id="printTable">

                <table id="food_load" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <tr>
                                <th>Food Name</th>
                                <th>Quantity</th>
                                <th>Opening Time <p style="font-size:x-small;">(MM/DD/YYYY)</p></th>
                                <th>Closing Time <p style="font-size:x-small;">(MM/DD/YYYY)</p></th>
                                <th>Remain Quantity</th>
                                <th>Reserved Quantity</th>
                                <th>Shop Name</th>
                                <th></th>
                            </tr>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        <br /><br /><br /><br />
        @section Scripts{
            <script src="~/js/cookFood.js"></script>
            <script>
            function generatePDF(){
                var table = document.getElementById('printTable').innerHTML;
                var win = window.open('', '', 'height=100%,width=100%');
                win.document.write('<html><head><title>Cook Food Donation History</title>');
                win.document.write('<style> h2{text-align:center;} #printTable{margin-left:auto; margin-right:auto;} th,td{border: 1px solid black;} table,th,td{ border-collapse:collapse; margin:20px auto;} th:last-child,td:last-child{display:none; border:0;} td{text-align:center;}</style>');
                win.document.write('</head><body>');
                win.document.write('<h2>Cook Food Donation History</h2>');
                win.document.write(table);
                win.document.write('</body></html>');
                win.document.close();
                win.print(); 
                setTimeout(function(){win.close()}, 500);  
            }
            </script>  
        }
    }
    else
    {
        <script>
     alert("Sorry, you are not eligible to enter this page.");
     location.href = '/Index';
     </script>
    }    
}



